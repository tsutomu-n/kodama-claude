# セキュリティポリシー

## サポートされているバージョン

セキュリティアップデートが提供されているバージョン：

| バージョン | サポート状況        |
| --------- | ------------------ |
| 0.3.x     | :white_check_mark: |
| 0.2.x     | :x:                |
| 0.1.x     | :x:                |

## 脆弱性の報告

KODAMA Claudeのセキュリティを真剣に受け止めています。セキュリティ脆弱性を発見した場合は、以下の手順に従ってください：

### 1. 公開Issueを作成しない

セキュリティ脆弱性は、ユーザーを危険にさらす可能性があるため、**絶対に**公開GitHubイssueで報告しないでください。

### 2. 非公開で報告

脆弱性は、メンテナーに直接メールするか、GitHubの非公開脆弱性報告機能を通じて報告してください：

1. リポジトリの[セキュリティタブ](https://github.com/tsutomu-n/kodama-claude/security)にアクセス
2. 「脆弱性を報告」をクリック
3. 非公開開示プロセスに従う

### 3. 報告に含める内容

脆弱性を報告する際は、以下を含めてください：

- 脆弱性の説明
- 問題を再現する手順
- 潜在的な影響
- 修正案（あれば）
- フォローアップ用の連絡先情報

### 4. 対応タイムライン

- **初回応答**: 48時間以内
- **状況更新**: 7日以内
- **修正タイムライン**: 重要度による
  - クリティカル: 7日以内
  - 高: 14日以内
  - 中: 30日以内
  - 低: 次回定期リリース

## ユーザー向けセキュリティベストプラクティス

### インストール

インストール時は常にチェックサムを確認：
```bash
# インストーラーが自動的にチェックサムを確認
curl -fsSL https://github.com/tsutomu-n/kodama-claude/releases/latest/download/install.sh | bash
```

### ファイル権限

KODAMA Claudeは厳格なファイル権限を実践：
- データディレクトリ: `700`（所有者のみ）
- スナップショットファイル: `600`（所有者の読み書きのみ）
- グループや他者への権限なし

### APIキー

- APIキーを絶対にバージョン管理にコミットしない
- 機密データには環境変数を使用
- Claude APIキーを安全に保管

### アップデート

セキュリティパッチを受け取るためKODAMA Claudeを最新に保つ：
```bash
# バージョン確認
kc --version

# 最新版に更新
curl -fsSL https://github.com/tsutomu-n/kodama-claude/releases/latest/download/install.sh | bash
```

## セキュリティ機能

KODAMA Claudeには複数のセキュリティ機能が含まれています：

1. **パス検証**: ディレクトリトラバーサル攻撃を防止
2. **アトミックファイル操作**: データ破損を防止
3. **ファイルロック**: 競合状態を防止
4. **セキュアな権限**: デフォルトで制限的なファイル権限
5. **ネットワークアクセスなし**: KODAMA自体はネットワーク通信を行わない（Claudeのみ）

## 謝辞

セキュリティ脆弱性の責任ある開示に感謝します。有効な問題を報告したセキュリティ研究者は、リリースノートで謝辞を受けます（許可を得た場合）。

## 連絡先

緊急のセキュリティ問題については、以下からも連絡可能：
- GitHubセキュリティアドバイザリ
- メンテナーへの直接メッセージ

KODAMA Claudeを安全に保つためのご協力に感謝します！