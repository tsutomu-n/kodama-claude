# マイグレーションガイド

このガイドは、KODAMA Claudeのバージョン間の移行について説明します。

## v0.1.0からv0.3.0への移行

**破壊的変更:** v0.3.0では、よりシンプルで直感的にするためにコマンド構造を完全に再設計しました。

### コマンドの変更

以下のコマンドが名称変更または再構成されました：

| 旧コマンド (v0.1.0) | 新コマンド (v0.3.0) | 備考 |
|-------------------|-------------------|------|
| `kc snap` | `kc save` | 作業の保存を明確に示す名前に変更 |
| `kc check` | `kc status` | より明確な意図 - セッション状態の確認 |
| `kc send` | `kc save`に統合 | ワークフローの簡素化 - 保存と送信を一体化 |
| `kc plan` | 自動表示 | プランは`go`と`save`で自動的に表示されるように |
| `kc doctor` | `kc status` | ヘルスチェックの統一 |

### アップグレード手順

v0.1.0がインストールされている場合：

#### オプション1：インストーラーを使用（推奨）

インストーラーは古いバージョンを自動的に検出して削除します：

```bash
curl -fsSL https://github.com/tsutomu-n/kodama-claude/releases/latest/download/install.sh | bash
```

#### オプション2：手動アップグレード

```bash
# 1. 古いバージョンをアンインストール
sudo rm /usr/local/bin/kc

# 2. 新しいバージョンをインストール
curl -fsSL https://github.com/tsutomu-n/kodama-claude/releases/latest/download/install.sh | bash

# 3. バージョンを確認
kc --version  # 0.3.0以降が表示されるはず
```

### トラブルシューティング

**v0.1.0の既知の問題**

`unknown option '--system'`というエラーが表示される場合は、v0.1.0がインストールされています。上記の手順でアップグレードしてください。

### データの互換性

- v0.1.0のスナップショットはv0.3.0と完全に互換性があります
- データ移行は不要です
- 既存のスナップショットはすべてそのまま動作します

### なぜ変更したのか？

v0.3.0は「Less is more」の哲学に焦点を当てました：
- 5つ以上のコマンドからわずか3つのコアコマンドに削減
- ユーザーのメンタルモデルを簡素化
- 典型的なワークフローとの整合性を向上
- 手動コマンドの代わりに自動機能を実装

## 将来のマイグレーション

このドキュメントは、必要に応じて将来のバージョンのマイグレーションガイドで更新されます。

一般的なトラブルシューティングについては、[トラブルシューティングガイド](troubleshooting.md)を参照してください。